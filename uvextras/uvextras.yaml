
envvars:
  - bind: uvexhome
    name: UVEX_HOME
    resolve:
      - $uvex_root
      - $PWD

  - bind:  uvexscripts
    name: UVEX_SCRIPTS
    resolve:
      - $UVEX_HOME/uvextras/scripts

  - bind: uvexlocaldir
    name: UVEX_LOCAL
    resolve:
      - $PWD/.uvextras

  - bind: uvexlocalconfig
    name: UVEX_LOCAL_CONFIG
    resolve:
      - $UVEX_LOCAL/uvextras.yaml

  - bind: uvexlocalscripts
    name: UVEX_LOCAL_SCRIPTS
    resolve:
      - $UVEX_LOCAL/scripts

scripts:
  - name: create
    desc: Create .venv optionally --system-site-packages (override `with-system` in project config)
    cmd:
    is-local: false
    # options:
    #   with-system:

  - name: allclean
    desc: runs clean and envclean; similar to distclean
    depends-on:
    - clean
    - envclean
    use-python: false
    is-local: false

  - name: clean
    desc: cleans artifacts; override `items_to_delete` in project config
    cmd:
    is-local: false
    options:
      items_to_delete: build/ .coverage/ coverage.xml *.egg-info/ log/ .mypy_cache/ __pypackages__/ .pytest_cache/ .ruff_cache/

  - name: envclean
    desc: cleans environment artifacts; override `items_to_delete` in project config
    cmd:
    is-local: false
    options:
      items_to_delete: node_modules/ .venv/

  - name: enable-dev
    desc: adds dev group pkgs; override `pkgs` in project config
    cmd:
    is-local: false
    options:
      pkgs: mypy pytest

  - name: gitignore
    desc: creates .gitignore - override `features` and `addons` entries in project config
    cmd:
    is-local: false
    options:
      features: python
      # addons:
